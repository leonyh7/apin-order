<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
	<title>发布需求</title>
	<link rel="stylesheet" href="./style/weui.min.css" />
	<link rel="stylesheet" href="./style/index.css" />
</head>

<body>
	<div class="page">
		<div class="page__bd">
			<div class="weui-cells">
				<div class="option weui-cell weui-cells_radio weui-cell">
					<div class="item title">区域</div>
					<div class="item radio">
						<label for="internal">
	                    <input type="radio" name="zone" id="internal" checked>
	                    	<div class="weui-cell__bd">
	                        <p>国内</p>
	                    </div>
		                </label>
					</div>
					<div class="item radio">
						<label for="abroad">
							<input type="radio" name="zone" id="abroad">
		                    <div class="weui-cell__bd">
		                        <p>国外</p>
		                    </div>
		                </label>
					</div>
				</div>
				<div class="option weui-cell weui-cells_radio">
					<div class="item title">团散</div>
					<div class="item radio">
						<label for="person">
	                    <input type="radio" name="group" id="person" checked>
	                    	<div class="weui-cell__bd">
	                        <p>散客</p>
	                    </div>
		                </label>
					</div>
					<div class="item radio">
						<label for="team">
							<input type="radio" name="group" id="team">
		                    <div class="weui-cell__bd">
		                        <p>团队</p>
		                    </div>
		                </label>
					</div>
				</div>
				<div class="option weui-cell weui-cells_radio">
					<div class="item title">人员</div>
					<div class="item radio">
						<label for="operator">
	                    <input type="radio" name="people" id="operator" checked>
	                    	<div class="weui-cell__bd">
	                        <p>计调</p>
	                    </div>
		                </label>
					</div>
					<div class="item radio">
						<label for="staff">
							<input type="radio" name="people" id="staff">
		                    <div class="weui-cell__bd">
		                        <p>员工</p>
		                    </div>
		                </label>
					</div>
				</div>

				<div class="weui-cell">
					<div class="weui-cell__hd"><label for="" class="weui-label">开始日期</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input" type="date" value="" id="startDate">
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label for="" class="weui-label">结束日期</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input" type="date" value="" id="endDate">
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">旅行社城市</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input validate" data-name="旅行社城市" type="text" placeholder="请输入城市">
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">旅行社名称</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input validate" data-name="旅行社名称" type="text" placeholder="请输入名称">
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">出发城市</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input validate" data-name="出发城市" type="text" placeholder="请输入城市">
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">到达城市</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input validate" data-name="到达城市" type="text" placeholder="请输入城市">
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">返程天数</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input validate number" data-name="返程天数" type="number" placeholder="请输入天数">
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">出行人数</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input validate nmber" data-name="出行人数" type="number" placeholder="请输入人数">
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">儿童人数</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input validate number" data-name="儿童人数" type="number" value="0" placeholder="请输入人数">
					</div>
				</div>
			</div>
		</div>
		<div class="weui-btn-area">
			<a class="weui-btn weui-btn_primary" href="javascript:" id="showTooltips">发布需求</a>
		</div>
	</div>
	<div class="js_dialog" id="iosDialog" style="display: none;">
		<div class="weui-mask"></div>
		<div class="weui-dialog">
			<div class="weui-dialog__bd" id="message"></div>
			<div class="weui-dialog__ft">
				<a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="hideDialog">知道了</a>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="./script/zepto.min.js"></script>
	<script type="text/javascript" src="./script/fx.js"></script>
	<script type="text/javascript" src="./script/fx_methods.js"></script>
	<script src="https://res.wx.qq.com/open/libs/weuijs/1.0.0/weui.min.js"></script>
	<script type="text/javascript">
		function getNowFormatDate() {
			var date = new Date();
			var seperator1 = "-";
			var seperator2 = ":";
			var month = date.getMonth() + 1;
			var strDate = date.getDate();
			if (month >= 1 && month <= 9) {
				month = "0" + month;
			}
			if (strDate >= 0 && strDate <= 9) {
				strDate = "0" + strDate;
			}
			var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate;
			return currentdate;
		}

		// 弹出框
		function showMessage(info) {
			$("#message").text(info);
			$("#iosDialog").fadeIn(200);
		}

		// 日期验证
		function validateDate(event) {
			var element = event.target;
			var value = element.value;
			var date = new Date(value);
			var today = new Date();
			var startDate = $("#startDate").val();
			var endDate = $("#endDate").val();
			if (startDate && (!endDate || endDate && (startDate > endDate))) {
				$("#endDate").val(startDate);
				return false;
			}
			if (element.id == 'startDate' && (date < today || !value)) {
				var mydate = getNowFormatDate();
				$(element).val(mydate);
				return;
			}

		}
		// 非空、数字验证
		function validateRequired() {
			var validates = $(".validate");
			for (var i = 0; i < validates.length; i++) {
				var item = $(validates[i]);
				var name = item.data('name');
				var val = item.val();
				if (!val) {
					showMessage(name + '不能为空！');
					item.val('')
					break;
				}
			}
		}

		$("#startDate, #endDate").on('change', function () {
			validateDate(event);
		})

		$("#hideDialog").on('click', function () {
			$("#iosDialog").fadeOut(200);
		})
		$("#showTooltips").on('click', function () {
			validateRequired();
		}
		)
		$(document).ready(function () {
			var Date = getNowFormatDate();
			$("#startDate,#endDate").val(Date);
			
		});
	</script>

</body>

</html>